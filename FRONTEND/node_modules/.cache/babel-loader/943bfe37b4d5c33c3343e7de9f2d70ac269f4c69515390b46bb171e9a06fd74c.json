{"ast":null,"code":"import Login from\"./pages/login/Login\";import{createBrowserRouter,RouterProvider,Route,Outlet,Navigate}from\"react-router-dom\";import Register from\"./pages/register/Register\";import Navbar from\"./components/Navbar/Navbar\";import Leftbar from\"./components/LeftBar/Leftbar\";import Rightbar from\"./components/RightBar/Rightbar\";import Userfeed from\"./pages/userpage/Userfeed\";import Profile from\"./pages/profile/Profile\";import Explore from\"./pages/explore/Explore\";import\"./style.scss\";import{useContext}from\"react\";import{DarkModeContext}from\"./context/darkModeContext\";import{AuthContext}from\"./context/authContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{currentUser}=useContext(AuthContext);const{darkMode}=useContext(DarkModeContext);console.log(darkMode);const Layout=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:`theme-${darkMode?\"dark\":\"light\"}`,children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Leftbar,{}),/*#__PURE__*/_jsx(\"div\",{style:{flex:6},children:/*#__PURE__*/_jsx(Outlet,{})}),/*#__PURE__*/_jsx(Rightbar,{})]})]});};// children will be the protected layout: homepage and profile page\n//if there is no currentuser, we will not see the layout, else: the layout will show \n//thus, making the route protected \nconst ProtectedRoute=_ref=>{let{children}=_ref;if(!currentUser){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};const router=createBrowserRouter([{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[{path:\"/\",element:/*#__PURE__*/_jsx(Userfeed,{})},{path:\"/profile/:id\",element:/*#__PURE__*/_jsx(Profile,{})}]},{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})},{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})},{path:\"/explore\",element:/*#__PURE__*/_jsx(Explore,{})}]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(RouterProvider,{router:router})});}export default App;","map":{"version":3,"names":["Login","createBrowserRouter","RouterProvider","Route","Outlet","Navigate","Register","Navbar","Leftbar","Rightbar","Userfeed","Profile","Explore","useContext","DarkModeContext","AuthContext","jsx","_jsx","jsxs","_jsxs","App","currentUser","darkMode","console","log","Layout","className","children","style","display","flex","ProtectedRoute","_ref","to","router","path","element"],"sources":["/Users/anchorman/Desktop/Personal-Projects/RightsWatch2/rights-watch2/FRONTEND/src/App.js"],"sourcesContent":["import Login from \"./pages/login/Login\";\nimport {createBrowserRouter,RouterProvider, Route, Outlet, Navigate} from \"react-router-dom\"\nimport Register from \"./pages/register/Register\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Leftbar from \"./components/LeftBar/Leftbar\";\nimport Rightbar from \"./components/RightBar/Rightbar\"; \nimport Userfeed from \"./pages/userpage/Userfeed\";\nimport Profile from \"./pages/profile/Profile\"; \nimport Explore from \"./pages/explore/Explore\"; \nimport \"./style.scss\"\nimport { useContext } from \"react\";\nimport { DarkModeContext } from \"./context/darkModeContext\";\nimport { AuthContext } from \"./context/authContext\";\n\n\n\nfunction App() {\n  \nconst {currentUser} = useContext(AuthContext)\n  const {darkMode} = useContext(DarkModeContext)\n  console.log(darkMode)\n\n  const Layout = ()=>{\n    return(\n      <div className={`theme-${darkMode ? \"dark\" : \"light\"}`}>\n        <Navbar/>\n        <div style={{display:\"flex\"}}>\n          <Leftbar/>\n          <div style= {{flex:6}}> \n            <Outlet/>\n          </div>\n          <Rightbar/>\n        </div>\n      </div>\n    );\n  };\n// children will be the protected layout: homepage and profile page\n//if there is no currentuser, we will not see the layout, else: the layout will show \n//thus, making the route protected \n\n  const ProtectedRoute = ({children}) =>{\n    if(!currentUser){ \n      return <Navigate to=\"/login\"/>\n    }\n    return children\n  }\n\n  const router = createBrowserRouter([\n    {\n      path: \"/\", \n      element: (\n      <ProtectedRoute>\n        <Layout/>\n      </ProtectedRoute>\n      ), \n      children: [\n        {\n          path: \"/\",\n          element: <Userfeed/>\n        },\n        {\n\n          path: \"/profile/:id\",\n          element: <Profile/>\n        }\n      ]\n    }, \n    {\n      path: \"/login\", \n      element: <Login/>\n    }, \n    {\n      path: \"/register\", \n      element: <Register/>\n    }, \n    {\n      path: \"/explore\", \n      element: <Explore/>\n    }, \n  ]);\n\n  return (\n    <div className=\"App\">\n      <RouterProvider router={router}/>\n\n      {/* <BrowserRouter>\n        <Routes>\n          <Route path =\"/\" element = {<Layout/>} children={ path = \"/\" element={<Userfeed/>}} />\n          <Route path = \"/login\" element = {<Login/>}/>\n          <Route path = \"/register\" element = {<Register/>}/>\n\n        </Routes>\n      </BrowserRouter>\n      <Login/> */}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}